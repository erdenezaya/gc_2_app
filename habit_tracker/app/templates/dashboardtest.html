{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
{% endblock %}

{% block script %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="container"> 
        <!-- Daily habit section -->
        <section id="daily-habits">
            <h1>Daily Habits</h1>
            <div class="habit-item">
                <input type="checkbox" id="habit1" checked>
                <label for="habit1">Wake up early</label>
            </div>
            <div class="habit-item">
                <input type="checkbox" id="habit2" checked>
                <label for="habit2">Drink water</label>
            </div>
            <div class="habit-item">
                <input type="checkbox" id="habit3" checked>
                <label for="habit3">No takeout</label>
            </div>
            <div class="habit-item">
                <input type="checkbox" id="habit4" checked>
                <label for="habit4">Meditate</label>
            </div>
            <button class="add-habit-btn">+ Add Habit</button>
        </section>

        <!-- Stats Section-->
        <section>
            <div class="stats-line"><strong>Today:</strong> {{ today_done }}/{{ total_habits }}</div>
            <div class="stats-line"><strong>Streak:</strong> ðŸ”¥ {{ streak_days }} days</div>

            {% for stat in habit_stats %}
            <div class="bar">
                <div class="bar-label">{{ stat.habit_name }}</div>
                <div class="bar-track">
                <div class="bar-fill" style="width: {{ stat.percentage }}%; background-color:
                    {% if loop.index == 1 %}#34BB61
                    {% elif loop.index == 2 %}#FF786F
                    {% elif loop.index == 3 %}#0D99FF
                    {% else %}#AF75F1{% endif %};"></div>
                </div>
                <span>{{ stat.completed_days }}/{{ stat.total_days }}</span>
            </div>
            {% endfor %}

        </section>
        <div class="progress-container" style="flex-basis: 100%;">
            <div class="progress-fill"></div>
            <div class="progress-icon">ðŸ”¥</div>
          </div>
    </div>
{% endblock %}